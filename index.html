<!DOCTYPE html>
<html>
  <head>
    <title>Ethan Huber</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="./bg.png" />

    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9710290726358184"
      crossorigin="anonymous"
    ></script>
  </head>

  <body class="body" style="--bg: #1e1e3c">
    <div id="top-bun">
      <h1 class="sesame-seeds">
        The Wonderful and Hodgepodged Reference Library
      </h1>
      <button class="theme" onclick="themeChange()">
        <p class="fluff" style="margin: 0">Change Theme</p>
      </button>
      <p class="fluff">
        (This section is written by Bings AI Bot). <br />
        Hi there, I’m Ethan Huber’s website. Nice to meet you. I’m a collection
        of all the links that Ethan has used in school/personal projects
        starting on Tuesday, March 21st. I have them all stored and organized
        for your viewing pleasure. Why? Well, that’s a good question. Maybe
        Ethan likes to keep track of his digital footprint. Maybe he wants to
        share his interests and passions with the world. Maybe he just has too
        much time on his hands. Whatever the reason, I’m happy to serve you.
      </p>
    </div>

    <div>
      <p style="font-style: italic" class="fluff" id="counter"></p>
    </div>

    <div>
      <a style="text-decoration: none" id="links"></a>
    </div>

    <div id="bottom-bun">
      <footer>
        <ul>
          <p class="fluff">Started By Ethan Huber On 19/03/23</p>
          <a style="text-decoration: none" href="https://github.com/zushiEdu/"
            ><p class="b">Github</p></a
          >
          <a
            style="text-decoration: none"
            href="https://github.com/zushiEdu/references"
            ><p class="b">Repository</p></a
          >
          <p class="fluff">Idea Credit To Class of 2024</p>
        </ul>
      </footer>
    </div>

    <script>
      var accent = true;
      fetch("list.txt")
        .then((response) => response.text())
        .then((text) => {
          const file = text.trim().toLowerCase();
          const links = file.split("\n").sort();

          const list = document.getElementById("links");
          for (const link of links) {
            if (link != "") {
              const div = document.createElement("div");
              const li = document.createElement("li");
              const a = document.createElement("a");
              if (accent) {
                div.className = "accent";
              } else {
                div.className = "non-accent";
              }
              div.style = "width:100%";
              a.href = link.replace("www.", "").replace("http://", "https://");
              a.textContent = link
                .replace("www.", "")
                .replace("http://", "https://")
                .replace(".html", "")
                .replace(".htm", "");
              a.target = "_blank";
              li.appendChild(a);
              div.appendChild(li);
              list.appendChild(div);
              accent = !accent;
            }
          }
          updateTheme();
          const count = document.getElementById("counter");
          count.textContent = `List Currently Holds ${links.length} links.`;
        });

      function updateTheme() {
        const background = document.getElementsByClassName("body");
        const links = document.getElementsByClassName("b");
        const fluff = document.getElementsByClassName("fluff");
        const headers = document.getElementsByClassName("sesame-seeds");
        const buttons = document.getElementsByClassName("theme");
        const accent = document.getElementsByClassName("accent");
        if (localStorage.getItem("dark") == 1) {
          // find all elements with matching class names and set their theme corresponding color

          //light mode
          for (let a = 0; a < background.length; a++) {
            background[a].style.setProperty("--bg", "#f2f2f2");
          }
          for (let b = 0; b < links.length; b++) {
            links[b].style.setProperty("--lnk", "#465e73");
          }
          for (let c = 0; c < fluff.length; c++) {
            fluff[c].style.setProperty("--text", "#00010d");
          }
          for (let d = 0; d < headers.length; d++) {
            headers[d].style.setProperty("--headers", "#00010d");
          }
          for (let e = 0; e < buttons.length; e++) {
            buttons[e].style.setProperty("--bc", "#a8b5bf");
          }
          for (let f = 0; f < accent.length; f++) {
            accent[f].style.setProperty("--ac", "#cecece");
          }
        } else {
          // find all elements with matching class names and set their theme corresponding color

          //dark mode
          for (let a = 0; a < background.length; a++) {
            background[a].style.setProperty("--bg", "#1E1E3C");
          }
          for (let b = 0; b < links.length; b++) {
            links[b].style.setProperty("--lnk", "#8F8F8F");
          }
          for (let c = 0; c < fluff.length; c++) {
            fluff[c].style.setProperty("--text", "#8F8F8F");
          }
          for (let d = 0; d < headers.length; d++) {
            headers[d].style.setProperty("--headers", "#8F8F8F");
          }
          for (let e = 0; e < buttons.length; e++) {
            buttons[e].style.setProperty("--bc", "#3E5366");
          }
          for (let f = 0; f < accent.length; f++) {
            accent[f].style.setProperty("--ac", "#2f2f5e");
          }
        }
      }

      function themeChange() {
        if (localStorage.getItem("dark") == 1) {
          // make theme dark
          localStorage.setItem("dark", 0);
        } else {
          // make theme light
          localStorage.setItem("dark", 1);
        }
        updateTheme();
      }
    </script>
  </body>
</html>
